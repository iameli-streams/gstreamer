<!DOCTYPE html>
<html lang="en">
<head>

<base href="..">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>switchbin</title>

<link rel="stylesheet" href="assets/css/dark-frontend.css" type="text/css" title="dark">
<link rel="alternate stylesheet" href="assets/css/light-frontend.css" type="text/css" title="light">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="assets/js/search/enable_search.css" type="text/css">

<link rel="stylesheet" href="assets/css/extra_frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/devhelp.css" type="text/css">

<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css" title="dark">

<link rel="alternate stylesheet" href="assets/css/prism.css" type="text/css" title="light">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/styleswitcher.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/trie.js"></script>

<!-- generic -->
<link rel="icon" type="image/png" href="assets/images/favicon-16.png" sizes="16x16">
<link rel="icon" type="image/png" href="assets/images/favicon-32.png" sizes="32x32">
<link rel="icon" type="image/png" href="assets/images/favicon-57.png" sizes="57x57">
<link rel="icon" type="image/png" href="assets/images/favicon-64.png" sizes="64x64">
<link rel="icon" type="image/png" href="assets/images/favicon-76.png" sizes="76x76">
<link rel="icon" type="image/png" href="assets/images/favicon-96.png" sizes="96x96">
<link rel="icon" type="image/png" href="assets/images/favicon-128.png" sizes="128x128">
<link rel="icon" type="image/png" href="assets/images/favicon-192.png" sizes="192x192">
<link rel="icon" type="image/png" href="assets/images/favicon-228.png" sizes="228x228">

<!-- Android -->
<link rel="shortcut icon" sizes="196x196" href="assets/images/favicon-196.png">

<!-- iOS -->
<link rel="apple-touch-icon" href="assets/images/favicon-120.png" sizes="120x120">
<link rel="apple-touch-icon" href="assets/images/favicon-152.png" sizes="152x152">
<link rel="apple-touch-icon" href="assets/images/favicon-180.png" sizes="180x180">

</head>

<body class="no-script
">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<span title="light mode switch" class="glyphicon glyphicon-sunglasses pull-right" id="lightmode-icon"></span>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/gstreamer-logo.svg" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
    <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        API References<span class="caret"></span>
    </a>
	<ul class="dropdown-menu" id="modules-menu">
					<li>
				<a href="gstreamer/gi-index.html">GStreamer core</a>
			</li>
					<li>
				<a href="libs.html">GStreamer Libraries</a>
			</li>
					<li>
				<a href="plugins_doc.html">GStreamer Plugins</a>
			</li>
		</ul>
</li>

<li>
    <a href="application-development/index.html">Application manual</a>
</li>


<li>
    <a href="tutorials/index.html">Tutorials</a>
</li>

			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
							</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="gst-extension" data-hotdoc-in-toplevel="False" data-hotdoc-project="switchbin" data-hotdoc-ref="index.html" class="page_container" id="page-wrapper" data-hotdoc-meta-gi-languages="['c', 'javascript', 'python']">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/full-width.js"></script>
  <div id="sitenav-wrapper">
    <iframe src="hotdoc-sitemap.html" id="sitenav-frame"></iframe>
  </div>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="switchbin-page">switchbin</h1>
<p>switchbin is a helper element that chooses between a set of processing
chains (called "paths") based on incoming caps, the caps of the paths,
and the result of caps queries issued to the elements within the paths.
It switches between these paths based on thes caps. Paths are child objects,
which are accessed by the <a href="gstreamer/gstchildproxy.html#GstChildProxy" data-gi-href-javascript="gstreamer/gstchildproxy.html#GstChildProxy" data-gi-title-javascript="Gst.ChildProxy" data-gi-href-python="gstreamer/gstchildproxy.html#GstChildProxy" data-gi-title-python="Gst.ChildProxy">GstChildProxy</a> interface.</p>
<p>The intent is to allow for easy construction of dynamic pipelines that
automatically switches between paths based on the caps, which is useful
for cases when certain elements are only to be used for certain types
of dataflow. One common example is a switchbin that inserts postprocessing
elements only if the incoming caps are of a type that allows for such
postprocessing, like when a video dataflow could be raw frames in some
cases and encoded MPEG video in others - postprocessing plugins for
color space conversion, scaling and such then should only be inserted
if the data consists of raw frames, while encoded video is passed
through unchanged.</p>
<p>Each path has an "element" property. If a <a href="gstreamer/gstelement.html#GstElement" data-gi-href-javascript="gstreamer/gstelement.html#GstElement" data-gi-title-javascript="Gst.Element" data-gi-href-python="gstreamer/gstelement.html#GstElement" data-gi-title-python="Gst.Element">GstElement</a> is passed to this,
switchbin takes ownership over that element. (Any previously set element
is removed and unref'd before the new one is set.) The element property
can also be NULL for a special passthrough mode (see below). In addition,
each path has a "caps" property, which is used for finding matching
paths. These caps are referred to as the "path caps".</p>
<p>NOTE: Currently, switchbin has a limitation that path elements must
have exactly one "sink" and one "src" pad, both of which need to be
always available, so no request and no sometimes pads.</p>
<p>Whenever new input caps are encountered at the switchbin's sinkpad,
the first path with matching caps is picked. A "match" means that the
result of <a href="gstreamer/gstcaps.html#gst_caps_can_intersect" data-gi-href-javascript="gstreamer/gstcaps.html#gst_caps_can_intersect" data-gi-title-javascript="Gst.Caps.prototype.can_intersect" data-gi-href-python="gstreamer/gstcaps.html#gst_caps_can_intersect" data-gi-title-python="Gst.Caps.can_intersect">gst_caps_can_intersect</a> is TRUE. The paths are looked at
in order: path #0's caps are looked at first, checked against the new
input caps with <a href="gstreamer/gstcaps.html#gst_caps_can_intersect" data-gi-href-javascript="gstreamer/gstcaps.html#gst_caps_can_intersect" data-gi-title-javascript="Gst.Caps.prototype.can_intersect" data-gi-href-python="gstreamer/gstcaps.html#gst_caps_can_intersect" data-gi-title-python="Gst.Caps.can_intersect">gst_caps_can_intersect</a>, and if the return value
is TRUE, path #0 is picked. Otherwise, path #1's caps are looked at etc.
If no path matches, a GST_STREAM_ERROR_WRONG_TYPE error is reported.</p>
<p>For queries, the concept of "allowed caps" is important. These are the
caps that are possible to use with this switchbin. They are computed
differently for sink- and for srcpads.</p>
<p>Allowed sinkpad caps are computed by visiting each path, issuing an
internal caps query to the path element's sink pad, intersecting the
result from that query with the path caps, and appending that intersection
to the overall allowed sinkpad caps. Allowed srcpad caps are similar,
except that the result of the internal query is directly attached to the
overall allowed srcpad caps (no intersection with path caps takes place):
The intuition behind this is that in sinkpad direction, only caps that
are compatible with both the path caps and whatever the internal element
can handle are really usable - other caps will be rejected. In srcpad
direction, path caps do not exert an influence.</p>
<p>The switchbin responds to caps and accept-caps queries in a particular
way. They involve the aforementioned "allowed caps".</p>
<p>Caps queries are responded to by first checking if there are any paths.
If num-paths is 0, the query always fails. If there is no current path
selected, or if the path has no element, the allowed sink/srcpad caps
(depending on whether the query comes from the sink- or srcpad direction)
is directly used as the response. If a current path is selected, and it
has an element, the query is forwarded to that element instead.</p>
<p>Accept-caps queries are handled by checking if the switchbin can find
a path whose caps match the caps from that query. If there is one, the
response to that query is TRUE, otherwise FALSE.</p>
<p>As mentioned before, path caps can in theory be any kind of caps. However,
they always only affect the input side (= the sink pad side of the switchbin).
Path elements can produce output of any type, so their srcpad caps can be
anything, even caps that are entirely different. For example, it is perfectly
valid if the path caps are "video/x-raw", the path element sink pad template
caps also are "video/x-raw", and the src pad caps of the elements are
"application/x-rtp".</p>
<p>Path elements can be set to NULL. Such paths perform dataflow passthrough.
The path then just forwards data. This includes caps and accept-caps queries.
Since there is no element, the internal caps queries go to the switchbin
peers instead (to the upstream peer when the query is at the switchbin's
srcpad, and to the downstream peer if the query is at the sinkpad).</p>
 <refsect2>
 <title>Example launch line</title>
<p>In this example, if the data is raw PCM audio with 44.1 kHz, a volume
element is used for reducing the audio volume to 10%. Otherwise, it is
just passed through. So, 44.1 kHz PCM audio will sound quiet, while
48 kHz PCM and any non-PCM data will be passed through unmodified.</p>
<pre><code class="language-[">   gst-launch-1.0 uridecodebin uri=&lt;URI&gt; ! switchbin num-paths=2 \
     path0::element="audioconvert ! volume volume=0.1" path0::caps="audio/x-raw, rate=44100" \
     path1::caps="ANY" ! \
     autoaudiosink
</code></pre>
<p>This example's path #1 is a passthrough path. Its caps are "ANY" caps,
and its element is NULL (the default value). Dataflow is passed through,
and caps and accept-caps queries are forwarded to the switchbin peers.</p>
<p>NOTE: Setting the caps to NULL instead of ANY would have accomplíshed
the same in this example, since NULL path caps are internally
interpreted as ANY caps.</p>
 </refsect2>

    </div>
        
        
                    

<div class="base_symbol_container" data-hotdoc-tags="" id="plugin-switchbin">
	
        <div class="base_symbol_container">
        </div>

</div>

                    

<div class="base_symbol_container" data-hotdoc-tags="" id="switchbin">
	
        

        <h2>Hierarchy</h2>
            <div class="hierarchy_container">
                <div class="hierarchy_details">
<pre>
GObject
    <span class="lineart">╰──</span>GInitiallyUnowned
        <span class="lineart">╰──</span><a title="GstObject" href="gstreamer/gstobject.html#GstObject" data-gi-href-javascript="gstreamer/gstobject.html#GstObject" data-gi-title-javascript="Gst.Object" data-gi-href-python="gstreamer/gstobject.html#GstObject" data-gi-title-python="Gst.Object">GstObject</a>
            <span class="lineart">╰──</span><a title="GstElement" href="gstreamer/gstelement.html#GstElement" data-gi-href-javascript="gstreamer/gstelement.html#GstElement" data-gi-title-javascript="Gst.Element" data-gi-href-python="gstreamer/gstelement.html#GstElement" data-gi-title-python="Gst.Element">GstElement</a>
                <span class="lineart">╰──</span><a title="GstBin" href="gstreamer/gstbin.html#GstBin" data-gi-href-javascript="gstreamer/gstbin.html#GstBin" data-gi-title-javascript="Gst.Bin" data-gi-href-python="gstreamer/gstbin.html#GstBin" data-gi-title-python="Gst.Bin">GstBin</a>
                    <span class="lineart">╰──</span>switchbin
</pre>

</div>

            </div>
            <h2>Implemented interfaces</h2>
            <div>
                <pre>
<a title="GstChildProxy" href="gstreamer/gstchildproxy.html#GstChildProxy" data-gi-href-javascript="gstreamer/gstchildproxy.html#GstChildProxy" data-gi-title-javascript="Gst.ChildProxy" data-gi-href-python="gstreamer/gstchildproxy.html#GstChildProxy" data-gi-title-python="Gst.ChildProxy">GstChildProxy</a>
</pre>
            </div>
        <h2 class="symbol_section">Factory details</h2>
        <div class="symbol-detail">
            <p><b>Authors:</b> – Carlos Rafael Giani <dv></dv></p>
            <p><b>Classification:</b> – <code>Generic/Bin</code></p>
            <p><b>Rank</b> – none</p>
            <p><b>Plugin</b> – switchbin</p>
            <p><b>Package</b> – GStreamer Bad Plug-ins</p>
        </div>

</div>


            <h2 class="symbol_section">Pad Templates</h2>
                    

<div class="base_symbol_container" data-hotdoc-tags="" id="GstSwitchBin!sink">
	



        <h3><span><code>sink</code></span></h3>


        <div>
            
            <pre class="language-yaml"><code class="language-yaml">ANY</code></pre>
            <div class="symbol-detail">
                <p><b>Presence</b> – <i>always</i></p>
                <p><b>Direction</b> – <i>sink</i></p>
                    <p><b>Object type</b> – <a title="GstPad" href="gstreamer/gstpad.html#GstPad" data-gi-href-javascript="gstreamer/gstpad.html#GstPad" data-gi-title-javascript="Gst.Pad" data-gi-href-python="gstreamer/gstpad.html#GstPad" data-gi-title-python="Gst.Pad">GstPad</a></p>
            </div>
        </div>



<hr>

</div>

            

<div class="base_symbol_container" data-hotdoc-tags="" id="GstSwitchBin!src">
	



        <h3><span><code>src</code></span></h3>


        <div>
            
            <pre class="language-yaml"><code class="language-yaml">ANY</code></pre>
            <div class="symbol-detail">
                <p><b>Presence</b> – <i>always</i></p>
                <p><b>Direction</b> – <i>src</i></p>
                    <p><b>Object type</b> – <a title="GstPad" href="gstreamer/gstpad.html#GstPad" data-gi-href-javascript="gstreamer/gstpad.html#GstPad" data-gi-title-javascript="Gst.Pad" data-gi-href-python="gstreamer/gstpad.html#GstPad" data-gi-title-python="Gst.Pad">GstPad</a></p>
            </div>
        </div>



<hr>

</div>


            <h2 class="symbol_section">Properties</h2>
                    

<div class="base_symbol_container" data-hotdoc-tags="" id="switchbin:current-path">
	



<h3 data-hotdoc-id="switchbin:current-path">
	<i>current-path</i>
</h3>


<pre class="property_signature">
“current-path” <span class="type"><a title="guint" href="https://docs.gtk.org/glib/types.html#guint" data-gi-href-javascript="https://developer.mozilla.org/en-US/docs/Glossary/Number" data-gi-title-javascript="Number" data-gi-href-python="https://docs.python.org/3/library/functions.html#int" data-gi-title-python="int">guint</a></span>
</pre>

<p>Returns the currently selected path number. If there is no current
path (due to no caps, or unsupported caps), the value is <a href="https://web.mit.edu/barnowl/share/gtk-doc/html/glib/glib-Limits-of-Basic-Types.html#G-MAXUINT:CAPS" data-gi-href-javascript="https://web.mit.edu/barnowl/share/gtk-doc/html/glib/glib-Limits-of-Basic-Types.html#G-MAXUINT:CAPS" data-gi-title-javascript="G_MAXUINT (not introspectable)" data-gi-href-python="https://web.mit.edu/barnowl/share/gtk-doc/html/glib/glib-Limits-of-Basic-Types.html#G-MAXUINT:CAPS" data-gi-title-python="G_MAXUINT (not introspectable)">G_MAXUINT</a>. Read-only.</p>


<p>
	Flags :	
	
		
				Read
			
</p>
<p>
	Default value :	-1
</p>



<hr>

</div>

            

<div class="base_symbol_container" data-hotdoc-tags="" id="switchbin:num-paths">
	



<h3 data-hotdoc-id="switchbin:num-paths">
	<i>num-paths</i>
</h3>


<pre class="property_signature">
“num-paths” <span class="type"><a title="guint" href="https://docs.gtk.org/glib/types.html#guint" data-gi-href-javascript="https://developer.mozilla.org/en-US/docs/Glossary/Number" data-gi-title-javascript="Number" data-gi-href-python="https://docs.python.org/3/library/functions.html#int" data-gi-title-python="int">guint</a></span>
</pre>

<p>Configure how many paths the switchbin will be choosing between. Attempting
to configure a path outside the range 0..(n-1) will fail. Reducing the
number of paths will release any paths outside the new range, which might
trigger activation of a new path by re-assessing the current caps.</p>


<p>
	Flags :	
	
		
				Read
			
				/		
				Write
			
</p>
<p>
	Default value :	0
</p>



<hr>

</div>






		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    

	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
